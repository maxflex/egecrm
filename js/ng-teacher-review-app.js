// Generated by CoffeeScript 1.9.3
angular.module("TeacherReview", []).filter('range', function() {
  return function(input, total) {
    var i, j, ref;
    total = parseInt(total);
    for (i = j = 1, ref = total + 1; j < ref; i = j += 1) {
      input.push(i);
    }
    return input;
  };
}).controller("Main", function($scope) {
  console.log("here");
  $scope.RatingInfo = [];
  $scope.saveReviews = function() {
    ajaxStart();
    return $.post("reviews/ajax/save", {
      RatingInfo: $scope.RatingInfo,
      id_student: $scope.id_student
    }, function(response) {
      ajaxEnd();
      $scope.form_changed = false;
      return $scope.$apply();
    });
  };
  $scope.form_changed = false;
  return angular.element(document).ready(function() {
    set_scope("TeacherReview");
    $(".teacher-review-textarea").on('keyup change', function() {
      $scope.form_changed = true;
      return $scope.$apply();
    });
    return $(".teacher-rating, .ios7-switch").on('click', function() {
      $scope.form_changed = true;
      return $scope.$apply();
    });
  });
});
