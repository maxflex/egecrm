<?php	// Контроллер	class UsersController extends Controller	{		public $defaultAction = "list";				// Папка вьюх		protected $_viewsFolder	= "users";				public function beforeAction()		{			$this->addJs("ng-users-app");		}				public function actionList()		{				$this->setTabTitle("Пользователи");						$Users = User::findAll([				"condition" => "type='USER' OR type='SEO'",				"order" => "type DESC"			]);						foreach ($Users as &$User) {				$User = $User->dbData(["id", "login", "banned", "agreement", "color"]);				}						$ang_init_data = angInit([				"Users" => $Users,			]);						$this->render("list", [				"ang_init_data" => $ang_init_data,			]);		}				public function actionAjaxSave()		{			$Users = $_POST["Users"];						foreach ($Users as $User) {				if (!empty($User['new_password'])) {					$User['password'] = User::password($User['new_password']);				}				User::updateById($User['id'], $User);			}						# обновить кеш			User::updateCache();		}					}